<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://respimaticlisten.atmanirbhar.org/static/js/respimaticlistenfor.js"></script>

    <script>
    ////////////////////////////////////////////////////////////////////////////
    // I will provide the callbackFn - it should not be in respimaticlistenfor.js
    ////////////////////////////////////////////////////////////////////////////
    function callbackFn(msg, timeStamp, jsonData) {
      if (msg) {
        console.log("-------- ERROR");
        console.log(msg);
        return;
      }
      console.log("-------- TIMESTAMP");
      console.log(timeStamp);
      console.log("-------- JSONDATA");
      console.log(jsonData);
      console.log("--------");
    }

    ////////////////////////////////////////////////////////////////////////////
    // I will provide the connectFn - it should not be in respimaticlistenfor.js
    ////////////////////////////////////////////////////////////////////////////
    function connectFn() {
      var uid = $('#uid').val(); // Get the value of uid from the input field
      console.log("Starting respimaticListenFor " + uid);

      //////////////////////////////////////////////////////
      // Below is the ONLY function I want you to provide
      //////////////////////////////////////////////////////
      respimaticListenFor(uid, callbackFn);
    }
    //////////////////////////////////////////////////////////////////
    // Dont worry about the button etc.
    // It is only for testing 
    // None of the button stuff should be in respimaticlistenfor
    // In the real code, I will call the function at an appropriate time
    //////////////////////////////////////////////////////////////////

    </script>
</head>

<body>
    <input id='uid' type='text' value='UID_28705904000000EE'></input>
    <button id='connectButton' onclick='connectFn()'>CONNECT</button>
</body>

