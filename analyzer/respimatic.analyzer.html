<!DOCTYPE html>
<html>
  
  <head>
    <meta charset="UTF-8">
    <title>Respimatic 100</title>
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="viewport"
      content="width = device-width, initial-scale = 1, user-scalable = no" />
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
      href="https://fonts.googleapis.com/css2?family=Cousine&family=Fira+Mono&display=swap"
      rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.7.0/nouislider.css" />
    <link rel="stylesheet" href="../css/common.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.7.0/nouislider.min.js"></script>
    <script src="../canvasjs/canvasjs.min.js"></script>
    <script src="../js/download.js"></script>
    <script src="../js/common.js"></script>
    <script src="js/global.data.js"></script>
    <script src="js/stats.table.js"></script>
    <script src="js/charts.graphs.js"></script>
    <script src="js/raw.data.js"></script>
    <script src="js/error.warning.js"></script>
    <script src="js/respimatic.analyzer.js"></script>
  </head>
  
  <body>
    <div class="sidebar">
      
      <div
        style="background-color:#0d3e51; color:white; font-size:20px; font-family:verdana;">
        <center>
          <p id="logTimeDuration">Session Duration 00:00:00
          <p id="selectedTimeDuration">Window Duration 00:00:00
        </center>
      </div>
      
      <center>
        <button id="btnExit" class="sidebarButton"
          style="background-color:firebrick" onclick='selectExit()'>STOP &
          EXIT</button>
      </center>
      
      <center>
      <div
        style="background-color:#0d3e51; color:white; font-size:20px; font-family:verdana;">
        <p>Session Actions
	<br><br>
        <button id="btnSelect" class="sidebarButton"
          onclick='selectSession()'>Select Session</button>
        <br><br>
        <button id="btnExport" class="sidebarButton"
          onclick='selectExport()'>Export Session</button>
        <br><br>
        <button id="btnImport" class="sidebarButton"
          onclick='selectImport()'>Import Session</button>
        <br><br>
        <button id="btnDeleteAll" class="sidebarButton"
          onclick='deleteAllDbs()'>Delete All Sessions</button>
        <br><br>
        <button id="btnRaw" class="sidebarButton" onclick='selectRawData()'>Display Raw
          Data</button>
        <br><br>
      </div>
      </center>

      <br>
      <center>
      <div
        style="background-color:#0d3e51; color:white; font-size:20px; font-family:verdana;">
        <p>Window Actions
	<br><br>
        <button id="btnStat" class="sidebarButton"
          onclick='selectStats()'>Statistics</button>
        <br><br>
        <button id="btnChart" class="sidebarButton"
          onclick='selectCharts()'>Charts</button>
        <br><br>
        <button id="btnErrorWarning" class="sidebarButton"
          onclick='selectErrorWarnings()'>Errors & Warnings</button>
        <br><br>
        <button id="btnExportWindow" class="sidebarButton" onclick='selectExportWindow()'>Export Window </button>
        <br><br>
      </div>
      </center>
      
      <br>
      <div
        style="background-color:#0d3e51; color:white; font-family:verdana;">
	<center>
          <p>Current Session
	  <br>
	  <p id='SysUid' style="font-size:16px;" >
        </center>
      </div>
    </div>
    
    <div class="body-pane">
      <center>
        <img src="img/analyzer-title-logos.png" alt="Title" width="620"
          height="140">
      </center>
      
      <center>
        <div id="analysisWindowDiv" style="background-color:#0d3e51; font-size:20px; font-family:verdana; display: none; ">
	  <br><br>
	  <div id="analysisRangeSliderDiv" style="margin-left: 20px; margin-right: 20px;">
	  </div>
	  <p style="color:white; font-size:30px; font-family:verdana;">Use Sliders to select Analysis Window
          <button id="btnSetInterval" class="glowingButton"
            onclick='setTimeInterval()'>Set Window</button>
          <button id="btnResetInterval" class="glowingButton"
            onclick='resetTimeInterval()'>Reset Window</button>
	  <hr>
        </div>
      </center>

      <center>
        <div id="selectorDiv" style="display: none">
          <h2 style="color:#0d3e51; font-size:1.3em; font-family:verdana;">
            Select Session for Analysis</h2>
           <div style="height:500px; line-height:1em; overflow-y:auto; overflow-x:auto; white-space: nowrap; padding:5px; background-color:#0d3e51; color:white; border:4px #1d85ad; font-family: 'Cousine';max-width: 1100px;">
	   <br>
            <table id='dbTable' className="dbTableStyle"
              style="font-size:20px; width:100%">
            </table>
          </div>
          
        </div>
      </center>
      
      <div id="statsDiv" style="display: none">
        <center>
          <h2 style="color:#0d3e51; font-size:1.3em; font-family:verdana;">
            Session Statistics</h2>
        </center>
        <div class="row">
          
          <div id="measured-pane" class="column" style="font-size: 20">
            <center>
              <h2
                style="background-color:#0d3e51; color:white;font-size:1.3em; font-family:verdana;">
                Parameters Measured</h2>
            </center>
            <table id='statsMinMaxTable' className="statsTableStyle"
              style="font-size:20px; width:100%">
              <tr>
                <th align="left" style="background-color:lightgray; ">
                  Parameter</th>
                <th align="left" style="background-color:lightgray; ">Units
                </th>
                <th align="left" style="background-color:lightgray;">Min</th>
                <th align="left" style="background-color:lightgray;">Max</th>
              </tr>
            </table>
            
            <center>
              <h2
                style="background-color:#0d3e51; color:white;font-size:1.3em; font-family:verdana;">
                Miscellaneous Information</h2>
            </center>
            <table id='statsMiscTable' className="statsTableStyle"
              style="font-size:20px; width:100%">
              <tr>
                <th align="left" style="background-color:lightgray; ">
                  Information</th>
                <th align="left" style="background-color:lightgray; ">Value
                </th>
              </tr>
            </table>
          </div>
          
          <div id="stats-pane" class="column" style="font-size: 20">
            <center>
              <h2
                style="background-color:#0d3e51; color:white;font-size:1.3em; font-family:verdana;">
                Static Information</h2>
            </center>
            <p id="pName">
            <p id="pInfo">
              <br>
            <p id="altitude">
              <center>
                <div id="staticStats" style="font-size: 20px">
                  <center>
                    <h2
                      style="background-color:#0d3e51; color:white;font-size:1.3em; font-family:verdana;">
                      Parameter Settings Used</h2>
                  </center>
                  
                  <center>
                    <table id='statsParamTable' className="statsTableStyle"
                      style="font-size:20px; width:100%">
                      <tr>
                        <th align="left" style="background-color:lightgray; ">
                          Parameter</th>
                        <th align="left" style="background-color:lightgray; ">
                          Units
                        </th>
                        <th align="left" style="background-color:lightgray;">
                          Values</th>
                      </tr>
                    </table>
                  </center>
                  
                  <center>
                    <h2
                      style="background-color:#0d3e51; color:white;font-size:1.3em; font-family:verdana;">
                      Sequence of Parameter Combinations Used</h2>
                  </center>
                  
                  <center>
                    <table id='statsComboTable' className="statsTableStyle"
                      style="font-size:20px; width:100%">
                      <tr>
                        <th align="left" style="background-color:lightgray;">
                          MODE</th>
                        <th align="left" style="background-color:lightgray;">
                          VT </th>
                        <th align="left" style="background-color:lightgray;">
                          RR</th>
                        <th align="left" style="background-color:lightgray;">
                          I:E</th>
                        <th align="left" style="background-color:lightgray;">
                          PEEP</th>
                        <th align="left" style="background-color:lightgray;">
                          PMAX</th>
                        <th align="left" style="background-color:lightgray;">
                          PS</th>
                        <th align="left" style="background-color:lightgray;">
                          TPS</th>
                        <th align="left" style="background-color:lightgray;">
                          #BREATHS</th>
                      </tr>
                    </table>
                  </center>
                  
                </div>
                
              </center>
          </div>
        </div>
      </div>
      
      <center>
        <div id="chartsDiv" style="display: none">
          <h2 style="color:#0d3e51; font-size:1.3em; font-family:verdana;">
            Select Charts for Analysis</h2>
          
          <div
            style="background-color:#0d3e51; color:white;font-size:20px; font-family:verdana;">
            <br>
            Y-Axis:
            <input id="peakTick" style="width:20px;height:20px;" type="checkbox">
            Peak
            <input id="platTick" style="width:20px;height:20px;" type="checkbox">
            Plateau
            <input id="peepTick" style="width:20px;height:20px;" type="checkbox">
            PEEP
            <input id="vtdelTick" style="width:20px;height:20px;" type="checkbox">
            Tidal Volume
            <input id="mvdelTick" style="width:20px;height:20px;" type="checkbox">
            Minute Volume
            <input id="mbpmTick" style="width:20px;height:20px;" type="checkbox">
            Mandatory BPM
            <input id="sbpmTick" style="width:20px;height:20px;" type="checkbox">
            Spontaneous BPM
            
            <br><br>
            X-Axis:
            <input id="breathTick" type="radio" name="xaxis" checked
              style="font-size: 16px;width: 20px; height: 20px">
            <label for="breathNum">Breath Number</label>
            <input id="timeTick" type="radio" name="xaxis"
              style="font-size: 16px;width: 20px; height: 20px">
            <label for="timeBased">Elapsed Time</label>
            
            <br><br>
            <input id="chartTitle" type="text"
              style="font-size: 16px;padding: 5px;width: 150;text-align: center">
            Chart Title
            <button class="button" onclick='createNewChart()'>CREATE
              CHART</button>
            <br><br>
          </div>
          
          <br><br>
          <div id="chartContainer" height=400px>
          </div>
        </div>
      </center>
      
      <center>
        <div id="errorWarningDiv" style="display: none">
          <h2 style="color:#0d3e51; font-size:1.3em; font-family:verdana;">
            Session Errors and Warnings</h2>
          
          <div class="row">
            <div id="errorColDiv" class="column" style="font-size: 20">
              <center>
                <h2
                  style="background-color:#0d3e51; color:white;font-size:1.3em; font-family:verdana;">
                  Session Errors</h2>
              </center>
              <div id="errorDiv"
                style="margin-left:10px; height:800px; overflow-y:auto; overflow-x:auto; white-space: nowrap; padding:5px; background-color:#0d3e51; color:white; border:10px #1d85ad; font-family: 'Cousine'">
                <p id="scrollErrorDiv" style="font-size:16; text-align: left">
              </div>
            </div>
            
            <div id="warningColDiv" class="column" style="font-size: 20">
              <center>
                <h2
                  style="background-color:#0d3e51; color:white;font-size:1.3em; font-family:verdana;">
                  Session Warnings</h2>
              </center>
              <div id="warningDiv"
                style="margin-left:10px; height:800px; overflow-y:auto; overflow-x:auto; white-space: nowrap; padding:5px; background-color:#0d3e51; color:white; border:10px #1d85ad; font-family: 'Cousine'">
                <p id="scrollWarningDiv" style="font-size:16; text-align: left">
              </div>
            </div>
            
          </div>
        </div>
      </center>
      
      <center>
        <div id="rawDataDiv" style="display: none">
          <h2 style="color:#0d3e51; font-size:1.3em; font-family:verdana;">
            Dumping Raw Data for Session</h2>
          <div
            style="margin-left:10px; height:800px; line-height:1em; overflow-y:auto; overflow-x:auto; white-space: nowrap; padding:5px; background-color:#0d3e51; color:white; border:10px #1d85ad; font-family: 'Cousine'">
            <p id="scrollRawDataDiv" style="font-size:16; text-align: left">
          </div>
          
        </div>
      </center>
      
      <center>
        <div id="importDiv" style="display: none">
          <h2 style="color:#0d3e51; font-size:1.5em; font-family:verdana;">
            Import Session</h2>
          <div
            style="margin-left:10px; height:350px; background-color:#0d3e51; color:white; border:10px #1d85ad; font-size: 25px; font-family: 'verdana'">
            <br><br>
            <label for="fileSelector">Session File to Import</label>
            <input type="file" id="fileSelector" accept=".txt"
              style="width: 200; border-radius: 10px; background-color:white; color:#0d3e51; font-size:25px; font-family:verdana;" />
            <br><br>
            <label for="importSessionName">Session Name to Create</label>
            <input id="importSessionName"
              style="width: 200; border-radius: 10px; background-color:white; color:#0d3e51; font-size:25px; font-family:verdana;" />
	    <br><br><br>
            <button class="button" onclick='importFile()'>IMPORT</button>
            <br>
            
          </div>
	</div>
      </center>

      <center>
        <div id="exportWindowDiv" style="display: none">
          <h2 style="color:#0d3e51; font-size:1.5em; font-family:verdana;">
            Export Analysis Window</h2>
            <button class="button" onclick='exportWindow()'>Export Analysis Window as a Session</button>
	</div>
      </center>
          
    </div>
  </body>
  
</html>

