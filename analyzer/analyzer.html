<!-- 
// ////////////////////////////////////////////////////
// Author: Sunil Nanda
// ////////////////////////////////////////////////////
-->

<!DOCTYPE html>
<html>

  <head>
    <meta charset="UTF-8">
    <title>Respimatic 100</title>
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="viewport" content="width = device-width, initial-scale = 0.9, user-scalable = yes" />
    <link rel="icon" type="image/png" href="../common/img/favicon.png">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Cousine&family=Fira+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.7.0/nouislider.css" />
    <link rel="stylesheet" href="css/sizes.css" />
    <link rel="stylesheet" href="../common/css/colors.css" />
    <link rel="stylesheet" href="../common/css/common.css" />
    <link rel="stylesheet" href="../common/css/iconButton.css" />
    <link rel="stylesheet" href="../common/css/sidebarButton.css" />
    <link rel="stylesheet" href="../common/css/selectTableRow.css" />
    <link rel="stylesheet" href="../common/css/chart.css" />
    <link rel="stylesheet" href="../common/css/shape.css" />
    <link rel="stylesheet" href="../common/css/colorLegend.css" />
    <link rel="stylesheet" href="css/sidebar.css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.7.0/nouislider.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.6.15/dist/sweetalert2.all.min.js"></script>
    <script src="../canvasjs/canvasjs.min.js"></script>
    <script src="../common/js/constants.js"></script>
    <script src="../common/js/uid.js"></script>
    <script src="../common/js/iconButton.js"></script>
    <script src="../common/js/common.js"></script>
    <script src="../common/js/modalPopup.js"></script>
    <script src="../common/js/hidePopups.js"></script>
    <script src="../common/js/checkboxTree.js"></script>
    <script src="../common/js/lineChart.js"></script>
    <script src="../common/js/breathShapes.js"></script>
    <script src="../common/js/statComputer.js"></script>
    <script src="../common/js/rangeSlider.js"></script>
    <script src="../common/js/circularGauge.js"></script>
    <script src="../common/js/queue.js"></script>
    <script src="../common/js/dbSchema.js"></script>
    <script src="../common/js/sessionData.js"></script>
    <script src="../common/js/appData.js"></script>
    <script src="../common/js/dweets.js"></script>
    <script src="../common/js/charts.js"></script>
    <script src="../common/js/shapes.js"></script>
    <script src="../common/js/stats.js"></script>
    <script src="../common/js/alerts.js"></script>
    <script src="../common/js/download.js"></script>
    <script src="../common/js/chartBox.js"></script>
    <script src="../common/js/shapeBox.js"></script>
    <script src="../common/js/selectTableRow.js"></script>
    <script src="js/analImportExport.js"></script>
    <script src="js/analCharts.js"></script>
    <script src="js/analShapes.js"></script>
    <script src="js/analRawData.js"></script>
    <script src="js/analyzer.js"></script>
  </head>

  <body style="font-family='verdana'">
    <div id=importDiv class=popupClass style="width:850px; height:450px; display: none">
      <center>
        <div style="font-size: 1.8rem;">
          <br>
          <label for="fileSelector">Session File to Import</label>
          <br>
          <br>
          <input type="file" id=fileSelector accept=".xml" style="width: 40rem; background-color:white; color:var(--rsp_darkblue); font-size:1.8rem; " />
          <br>
          <br>
          <label for="importSessionName">Session Name to Create</label>
          <br>
          <br>
          <input id=importSessionName style="width: 40rem; background-color:white; color:var(--rsp_darkblue); font-size:1.8rem; " />
          <br>
          <br>
          <br>
          <button id=importFileBtn class=button style="background-color:var(--rsp_darkblue); width:250px; font-size:30px;" onclick='importFile()'>IMPORT</button>
          <button class=button style="background-color:var(--rsp_darkred); width:250px; font-size:30px;" onclick='cancelImport()'>CANCEL</button>
          <br>
          <br>

        </div>
      </center>
    </div>

    <div id=exportDiv class=popupClass style="width:850px; height:300px; display: none">
      <center>
        <div style="font-size: 30px; ">
          <br>
          <label for="exportFileName">Export File Name (extension will be .xml)</label>
          <br>
          <br>
          <input id=exportFileName style="width: 40rem; background-color:white; color:var(--rsp_darkblue); font-size:2rem; " />
          <br>
          <br>
          <br>
          <button id=exportFileBtn class=button style="background-color:var(--rsp_darkblue); width:250px; font-size:30px;" onclick='exportFile()'>EXPORT</button>
          <button class=button style="background-color:var(--rsp_darkred); width:250px; font-size:30px;" onclick='cancelExport()'>CANCEL</button>
          <br>
          <br>

        </div>
      </center>
    </div>

    <div id=sideMenuBar class=sidebarColumn>
      <div class=sidebar>

        <div class=shadowDiv5 style="background-color:var(--rsp_darkblue); color:white; font-size:1.3rem; ">
          <center>
            <p style="margin-bottom:0;background-color:var(--rsp_mediumblue);padding-bottom:5px;"><b>SESSION DATA</b></p>
            <table style="border-collapse:unset; border:none; font-size:1.3rem; width:100%; margin-top:10px;">
              <tr>
                <td align="left">&nbspBreaths</td>
                <td id=logNumBreaths align="center">--</td>
              </tr>
              <tr>
                <td align="left">&nbspDuration</td>
                <td id=logTimeDuration align="center">--:--:--</td>
              </tr>
              <tr>
                <td align="left">&nbspPriorBreaths</td>
                <td id=priorNumBreaths align="center">--</td>
              </tr>
            </table>
            <br>
            <p style="margin-bottom:0;background-color:var(--rsp_mediumblue);padding-bottom:5px;"><b>ANALYSIS WINDOW</b></p>
            <table style="border-collapse:unset; border:none; font-size:1.3rem; width:100%; margin-top:10px;">
              <tr>
                <td align="left">&nbspBreathRange</td>
                <td id=selectedBreathRange align="center">--</td>
              </tr>
              <tr>
                <td align="left">&nbspDuration</td>
                <td id=selectedTimeDuration align="center">--:--:--</td>
              </tr>
            </table>
          </center>
          <br>
        </div>
        <br>
        <br>

        <center>
          <div class=shadowDiv5 style="background-color:var(--rsp_darkblue); color:white; font-size:1.3rem; ">
            <p style="margin-bottom:0;background-color:var(--rsp_mediumblue);padding-bottom:5px;"><b>SESSION ACTIONS</b></p>
            <br>
            <button id=btnSelect class=sidebarButton onclick='selectSession()'>Manage Sessions</button>
            <br>
            <button id=btnRaw class=sidebarButton onclick='selectRawData()'>Session Raw Data</button>
            <br>
            <br>
          </div>
        </center>

        <br>
        <br>
        <center>
          <div class=shadowDiv5 style="background-color:var(--rsp_darkblue); color:white; font-size:1.3rem; ">
            <p style="margin-bottom:0;background-color:var(--rsp_mediumblue);padding-bottom:5px;"><b>WINDOW ACTIONS</b></p>
            <br>
            <button id=btnStat class=sidebarButton onclick='selectStats()'>View Statistics</button>
            <br>
            <button id=btnChart class=sidebarButton onclick='selectCharts()'>View Charts</button>
            <br>
            <button id=btnAlert class=sidebarButton onclick='selectAlerts()'>View Alerts</button>
            <br>
            <button id=btnShape class=sidebarButton onclick='selectShapes()'>View Breath Shapes</button>
            <br>
            <br>
          </div>
        </center>

      </div>
    </div>

    <div id=nonMenuArea class=body-pane>

      <div id=analysisWindowDiv style="margin-top:0px; margin-bottom:10px; background-color:var(--rsp_darkblue); font-size:1.5em ;display:none; margin-bottom:10px; padding-bottom:5px; ">
        <div style="margin-bottom:10px;">
          <center>
            <p id=sessionNameSlider style="margin-top:-50px; margin-bottom:0px; background-color:var(--rsp_mediumblue); color:white;font-size:2.2rem; "> No Selected Session
          </center>
        </div>
        <div id=analysisRangeSliderDiv style="margin-top:0px; padding-left:20px; padding-right:20px;font-size:1.3rem; ">
        </div>
        <center>
          <button class=iconButton id=btnFullInterval onClick='setFullInterval(this)' onmouseover='overIconButton(this)' onmouseout='outIconButton(this)' title='Maximize'><img src="../common/img/maximize.png" width=25px height=25px></button>
          <button class=iconButton id=btnSetInterval onClick='setTimeInterval(this)' onmouseover='overIconButton(this)' onmouseout='outIconButton(this)' title='Set'><img src="../common/img/check.png" width=25px height=25px></button>
          <button class=iconButton id=btnCancelInterval onmouseover='overIconButton(this)' onmouseout='outIconButton(this)' onClick='cancelTimeInterval(this)' style="float:right;" title='Cancel'><img src="../common/img/close.png" width=25px height=25px></button>
          <button class=iconButton id=btnResetInterval onmouseover='overIconButton(this)' onmouseout='outIconButton(this)' onClick='resetTimeInterval(this)' style="float:left;" title='Default'><img src="../common/img/rolling.png" width=25px height=25px></button>
          <br>
        </center>
      </div>

      <div id=selectorDiv style="display: none; margin-bottom:20px; max-width:900px;">
        <div style="margin-bottom:20px; width:900px;">
          <center>
            <p class=shadowDiv5 id=sessionNameSelector style="margin-top:-50px; margin-bottom:-50px; background-color:var(--rsp_mediumblue); color:white;font-size:2rem; "> No Selected Session
          </center>
        </div>
        <br>
        <br>
        <div class=shadowDiv5 style="height:712px; line-height:0.9rem; padding:5px; background-color:var(--rsp_darkblue); color:white; border:4px var(--rsp_lightblue); font-size:1.4rem; ">

          <div style="background-color:var(--rsp_darkblue); color: white; font-size:1.5em;">
            <button class=iconButton onClick="selectImport(this)" onmouseover='overIconBtn(this)' onmouseout='outIconBtn(this)' style="float:left" title="Import"><img src="../common/img/plus.png" width=35px height=35px></button>
            <button class=iconButton onClick="deleteAllDbs(this)" onmouseover='overIconBtn(this)' onmouseout='outIconBtn(this)' style="float:right" title="Delete ALL"><img src="../common/img/trash-bin.png" width=35px height=35px></button>
            <br>
            <center>RESPIMATIC-100 Session Databases</center>
          </div>

          <table id='dbTable' className="dbTableStyle" style="font-size:25px; width:100%">
            <thead>
              <tr>
                <th align="center" style="padding: 8px 8px; font-size: 30px; min-width:300px; background-color:var(--rsp_lightblue); color:var(--rsp_darkblue); border: solid var(--rsp_darkblue);">Session Name</th>
                <th align="center" style="padding: 8px 8px; font-size: 30px; min-width:300px; background-color:var(--rsp_lightblue); color:var(--rsp_darkblue); border: solid var(--rsp_darkblue);">Created</th>
                <th align="center" style="padding: 8px 8px; font-size: 30px; background-color:var(--rsp_lightblue); color:var(--rsp_darkblue); border: solid var(--rsp_darkblue);" colspan="3">Actions</th>
              </tr>

            </thead>
          </table>
        </div>
        <div style="margin-top:-1.5rem;">
          <br>
          <br>
          <div class=shadowDiv5 id=SYSDiv style="height:100%; width:30%; float:left; background-color:var(--rsp_darkblue); color:white;font-size:1.4rem;">
            <center>
              <p style="font-size:1.4rem; "><b>SYSTEM UID</b>
                <p id='SysUid' style="font-size:1.2rem; ">
            </center>
          </div>
          <div class=shadowDiv5 id=logosDiv style="height:100%; margin-left:31%; background-color:var(--rsp_darkblue);">
            <center>
              <img src="img/analyzer-title-logos.png" alt="Title" style="margin-top: 15px; " width=400px height=114px>
            </center>
          </div>
        </div>
      </div>
      </center>

      <div id=statsDiv style="display: none; margin-bottom:10px;">
        <div class=row>

          <div id=measured-pane class=column style="font-size: 1.4rem">
            <center>
              <h2 class=shadowDiv5 style="background-color:var(--rsp_mediumblue); color:white;">
                Parameters Measured</h2>
            </center>
            <table id='statsMinMaxTable' className="statsTableStyle" style="font-size:1.2rem; width:100%">
              <tr>
                <th align="left" style="background-color:lightgray; ">
                  Parameter</th>
                <th align="left" style="background-color:lightgray; ">Units
                </th>
                <th align="left" style="background-color:lightgray;">Min</th>
                <th align="left" style="background-color:lightgray;">&nbspMax</th>
                <th align="left" style="background-color:lightgray;">&nbsp&nbsp&nbsp&nbspAvg</th>
              </tr>
            </table>

            <center>
              <h2 class=shadowDiv5 style="background-color:var(--rsp_mediumblue); color:white;">
                Miscellaneous Information</h2>
            </center>
            <table id='statsMiscTable' className="statsTableStyle" style="font-size:1.2rem; width:100%">
              <tr>
                <th align="left" style="background-color:lightgray; ">
                  Information</th>
                <th align="left" style="background-color:lightgray; ">Value
                </th>
              </tr>
            </table>
          </div>

          <div id=stats-pane class=column style="font-size: 1.4rem">
            <center>
              <h2 class=shadowDiv5 style="background-color:var(--rsp_mediumblue); color:white;">
                Static Information</h2>
            </center>
            <div style="font-size: 1.3rem">
              <p id=pName></p>
              <p id=pInfo></p>
              <p id=altitude></p>
            </div>
            <center>
              <div id=staticStats style="font-size: 1.4rem">
                <center>
                  <h2 class=shadowDiv5 style="background-color:var(--rsp_mediumblue); color:white;">
                      Parameter Settings Used</h2>
                </center>

                <center>
                  <table id='statsParamTable' className="statsTableStyle" style="font-size:1.2rem; width:100%">
                    <tr>
                      <th align="left" style="background-color:lightgray; ">
                        Parameter</th>
                      <th align="left" style="background-color:lightgray; ">
                        Units
                      </th>
                      <th align="left" style="background-color:lightgray;">
                        Values</th>
                    </tr>
                  </table>
                </center>

                <center>
                  <h2 class=shadowDiv5 style="background-color:var(--rsp_mediumblue); color:white;">
                      Sequence of Parameter Combinations</h2>
                </center>

                <center>
                  <table id='statsComboTable' className="statsTableStyle" style="text-align:center; font-size:1.2rem; width:100%">
                    <tr>
                      <th style="background-color:lightgray;">
                        MODE</th>
                      <th style="background-color:lightgray;">
                        VT </th>
                      <th style="background-color:lightgray;">
                        &nbsp;RR&nbsp;</th>
                      <th style="background-color:lightgray;">
                        I:E</th>
                      <th style="background-color:lightgray;">
                        PEEP</th>
                      <th style="background-color:lightgray;">
                        PMAX</th>
                      <th style="background-color:lightgray;">
                        &nbsp;&nbsp;PS&nbsp;&nbsp;</th>
                      <th style="background-color:lightgray;">
                        TPS</th>
                      <th style="background-color:lightgray;">
                        FIO2</th>
                      <th style="background-color:lightgray;">
                        # of BREATHS</th>
                      <th style="background-color:lightgray;">
                        Before BREATH#</th>
                    </tr>
                  </table>
                </center>

              </div>

            </center>
          </div>
        </div>
      </div>

      <div id=chartsDiv style="display: none; margin-bottom:20px;">
      </div>

      <div id=shapesDiv style="display: none; margin-bottom:20px;">
        <div>
          <ul class=colorLegend>
            <li><span class=MandatoryVC></span> Mandatory VC</li>
            <li><span class=SpontaneousVC></span> Spontaneous VC</li>
            <li><span class=SpontaneousPS></span> Spontaneous PS</li>
            <li><span class=Maintenance></span> Maintenance</li>
            <li><span class=Error></span> Error</li>
            <li><span class=Abnormal></span> Abnormal</li>
          </ul>
        </div>
      </div>

      <center>
        <div id=alertsDiv style="display: none; margin-bottom:10px; font-size:1.3rem;">
          <div class=row style="margin-top:10px; ">
            <div id=errorColDiv class=column style="font-size: 1rem;">
              <center>
                <h2 class=shadowDiv5 style="background-color:var(--rsp_mediumblue); color:white;font-size:2rem; ">
                  Session Errors</h2>
              </center>
              <div class=shadowDiv5 id=errorDiv style="height:675px; margin-left:0px; overflow-y:auto; overflow-x:auto; white-space: nowrap; padding:5px; background-color:var(--rsp_mediumblue); color:white; border:10px var(--rsp_lightblue); font-family: 'Cousine'">
                <p id=scrollErrorDiv style="font-size:1rem; text-align: left;">
              </div>
            </div>

            <div id=warningColDiv class=column style="font-size: 1rem; ">
              <center>
                <h2 class=shadowDiv5 style="background-color:var(--rsp_mediumblue); color:white;font-size:2rem; ">
                  Session Warnings</h2>
              </center>
              <div class=shadowDiv5 id=warningDiv style="height:675px; margin-left:10px; overflow-y:auto; overflow-x:auto; white-space: nowrap; padding:5px; background-color:var(--rsp_mediumblue); color:white; border:10px var(--rsp_lightblue); font-family: 'Cousine'">
                <p id=scrollWarningDiv style="font-size:16; text-align: left">
              </div>
            </div>

            <div id=infoColDiv class=column style="font-size: 1rem; ">
              <center>
                <h2 class=shadowDiv5 style="background-color:var(--rsp_mediumblue); color:white;font-size:2rem; ">
                  Session Information</h2>
              </center>
              <div class=shadowDiv5 id=infoDiv style="height:675px; margin-left:10px; overflow-y:auto; overflow-x:auto; white-space: nowrap; padding:5px; background-color:var(--rsp_mediumblue); color:white; border:10px var(--rsp_lightblue); font-family: 'Cousine'">
                <p id=scrollInfoDiv style="font-size:16; text-align: left">
              </div>
            </div>

          </div>
        </div>
      </center>

      <div id=rawDataDiv style="display: none; margin-bottom:20px;">
        <div style="margin-bottom:20px;;">
          <center>
            <p class=shadowDiv5 id=sessionNameData style="margin-top:-50px; margin-bottom:0px; background-color:var(--rsp_mediumblue); color:white;font-size:2em; "> No Selected Session
          </center>
        </div>
        <center>
          <h2 style="color:var(--rsp_darkblue); font-size:1.5em; ">
            Raw JSON Session Data</h2>
          <div class=shadowDiv5 style="margin-right:10px; height:795px; line-height:1em; overflow-y:auto; overflow-x:auto; white-space: nowrap; padding:5px; background-color:var(--rsp_mediumblue); color:white; border:10px var(--rsp_lightblue); font-family: 'Cousine'">
            <p id=scrollRawDataDiv style="font-size:1rem; text-align: left">
          </div>

        </center>
      </div>

    </div>

    <!-- 
// ////////////////////////////////////////////////////
// Below are all templates only
// ////////////////////////////////////////////////////
-->
    <template id=chartContainerTemplate>
      <div class=chartContainer style="position:relative">
        <div class=chartBanner>
          <button class=iconButton style="float:left;" onClick="chartAppend(this)" onmouseover='overIconButton(this)' onmouseout='outIconButton(this)' title="Add Chart Box"><img src="../common/img/plus.png" width=20px height=20px></button>
          <button class=iconButton style="float:right;" onClick="chartDelete(this)" onmouseover='overIconButton(this)' onmouseout='outIconButton(this)' title="Delete"><img src="../common/img/trash-bin.png" width=20px height=20px></button>
          <button class=iconButton style="float:right;" onClick="chartEdit(this)" onmouseover='overIconButton(this)' onmouseout='outIconButton(this)' title="Edit"><img src="../common/img/pen.png" width=20px height=20px></button>
          <br>
        </div>
        <div class=chartBody>
        </div>
      </div>
    </template>

    <template id=chartEditMenuTemplate>
      <div id=chartDropDownMenu class=chartEditMenu style="background-color: var(--rsp_lightblue);">
        <div class=chartEditMenuBanner>
          <button class=iconButton onClick="chartMenuSubmit(this)" onmouseover='overIconButton(this)' onmouseout='outIconButton(this)' title="Accept"><img src="../common/img/check.png" width=20px height=20px></button>
          <button class=iconButton onClick="chartMenuCancel(this)" onmouseover='overIconButton(this)' onmouseout='outIconButton(this)' title="Cancel"><img src="../common/img/close.png" width=20px height=20px></button>
          <br>
        </div>

        <div id=chartTitleDiv style="background-color: var(--rsp_lightblue)">
          <center>
            <p style="font-size:1.2em; background-color: var(--rsp_blue); color: white; margin-top:0;">Title</p>
            <div style="background-color: var(--rsp_lightblue); margin-top:-20px">
              <input id=ChartTitleId class=chartEditMenuTitle type="text" id=title name="title">
            </div>
          </center>
        </div>
        <div id=chartCheckBoxTreeRoot style="margin-top:-20px; padding-bottom:10px;">
          <center>
            <p style="font-size:1.2em; background-color: var(--rsp_blue); color: white;">Y-axis Parameters</p>
          </center>
          <div style="background-color: var(--rsp_lightblue); margin-top:-10px; ">
            <input type="checkbox" id=Presssures onclick='chartTreeCheckboxClicked(this)'>
            <label for=Presssures>Pressures</label>
            <div class=chartIndentDiv>
              <input type="checkbox" id=Peak onclick='chartTreeCheckboxClicked(this)'>
              <label for=Peak>Peak Pressure</label>
            </div>
            <div class=chartIndentDiv>
              <input type="checkbox" id=Plat onclick='chartTreeCheckboxClicked(this)'>
              <label for=Plat>Plateau Pressure</label>
            </div>
            <div class=chartIndentDiv>
              <input type="checkbox" id=PEEP onclick='chartTreeCheckboxClicked(this)'>
              <label for=PEEP>PEEP Pressure</label>
            </div>
          </div>
          <br>
          <div style="background-color: var(--rsp_lightblue)">
            <input type="checkbox" id=Volumes onclick='chartTreeCheckboxClicked(this)'>
            <label for=Volumes>Volumes</label>
            <div class=chartIndentDiv>
              <input type="checkbox" id=Tidal onclick='chartTreeCheckboxClicked(this)'>
              <label for=Tidal>Tidal Volume</label>
            </div>
            <div class=chartIndentDiv>
              <input type="checkbox" id=Minute onclick='chartTreeCheckboxClicked(this)'>
              <label for=Minute>Minute Volume</label>
            </div>
          </div>
          <br>
          <div style="background-color: var(--rsp_lightblue)">
            <input type="checkbox" id=BPM onclick='chartTreeCheckboxClicked(this)'>
            <label for=BPM>Breaths per minute</label>
            <div class=chartIndentDiv>
              <input type="checkbox" id=Mandatory onclick='chartTreeCheckboxClicked(this)'>
              <label for=Mandatory>Mandatory BPM</label>
            </div>
            <div class=chartIndentDiv>
              <input type="checkbox" id=Spontaneous onclick='chartTreeCheckboxClicked(this)'>
              <label for=Spontaneous>Spontaneous BPM</label>
            </div>
            <div class=chartIndentDiv>
              <input type="checkbox" id=BreathType onclick='chartTreeCheckboxClicked(this)'>
              <label for=BreathType>Mandatory/Spontaneous/Error</label>
            </div>
          </div>
          <br>
          <div style="background-color: var(--rsp_lightblue);">
            <input type="checkbox" id=Compliances onclick='chartTreeCheckboxClicked(this)'>
            <label for=Compliances>Instant Lung Compliances</label>
            <div class=chartIndentDiv>
              <input type="checkbox" id=Dynamic onclick='chartTreeCheckboxClicked(this)'>
              <label for=Dynamic>Instant Dynamic Lung Compliance&nbsp</label>
            </div>
            <div class=chartIndentDiv>
              <input type="checkbox" id=Static onclick='chartTreeCheckboxClicked(this)'>
              <label for=Static>Instant Static Lung Compliance</label>
            </div>
          </div>
          <br>
          <div style="background-color: var(--rsp_lightblue); ">
            <input type="checkbox" id=Oxygen onclick='chartTreeCheckboxClicked(this)'>
            <label for=Oxygen>Oxygen Related</label>
            <div class=chartIndentDiv>
              <input type="checkbox" id=FiO2 onclick='chartTreeCheckboxClicked(this)'>
              <label for=FiO2>FiO2</label>
            </div>
            <div class=chartIndentDiv>
              <input type="checkbox" id=O2Flow onclick='chartTreeCheckboxClicked(this)'>
              <label for=O2Flow>Incoming Oxygen Flow Required</label>
            </div>
            <div class=chartIndentDiv>
              <input type="checkbox" id=O2Purity onclick='chartTreeCheckboxClicked(this)'>
              <label for=O2Purity>Incoming Oxygen Purity</label>
            </div>
          </div>
          <br>
          <div style="background-color: var(--rsp_lightblue); ">
            <input type="checkbox" id=Miscellaneous onclick='chartTreeCheckboxClicked(this)'>
            <label for=Miscellaneous>Miscellaneous</label>
            <div class=chartIndentDiv>
              <input type="checkbox" id=Errors onclick='chartTreeCheckboxClicked(this)'>
              <label for=Errors>System Errors</label>
            </div>
            <div class=chartIndentDiv>
              <input type="checkbox" id=Warnings onclick='chartTreeCheckboxClicked(this)'>
              <label for=Warnings>System Warnings</label>
            </div>
            <div class=chartIndentDiv>
              <input type="checkbox" id=Notifications onclick='chartTreeCheckboxClicked(this)'>
              <label for=Notifications>System Notifications</label>
            </div>
            <div class=chartIndentDiv>
              <input type="checkbox" id=Temperature onclick='chartTreeCheckboxClicked(this)'>
              <label for=Temperature>System Temperature</label>
            </div>
          </div>
        </div>
        <div id=XAxisUnits style="margin-top:-20px;">
          <center>
            <p style="font-size:1.2em; background-color: var(--rsp_blue); color: white; margin-bottom:0px;">X-axis Units</p>
          </center>
          <div style="background-color: var(--rsp_lightblue); margin-bottom:-16px;">
            <form name="XunitsForm" style="padding-top:12px;">
              <center>
                <input type="radio" id=BNUM name="XAxisUnits" value="BNUM" checked>
                <label for=BNUM>Breath Number</label>
                <input type="radio" id=TIME name="XAxisUnits" value="TIME">
                <label for=TIME>Breath Times</label>
              </center>
            </form>
            <br>
          </div>
          <br>
        </div>
      </div>
    </template>

    <template id=shapeContainerTemplate>
      <div class=shapeContainer style="position:relative">
        <div class=shapeBanner>
          <button class=iconButton style="float:left;" onClick="shapeAppend(this)" onmouseover='overIconButton(this)' onmouseout='outIconButton(this)' title="Add Shape Box"><img src="../common/img/plus.png" width=20px height=20px></button>
          <button class=iconButton style="float:right;" onClick="shapeDelete(this)" onmouseover='overIconButton(this)' onmouseout='outIconButton(this)' title="Delete"><img src="../common/img/trash-bin.png" width=20px height=20px></button>
          <button class=iconButton style="float:right;" onClick="shapeEdit(this)" onmouseover='overIconButton(this)' onmouseout='outIconButton(this)' title="Edit"><img src="../common/img/pen.png" width=20px height=20px></button>
          <br>
        </div>
        <div class=shapeBody>
        </div>
      </div>
    </template>

    <template id=shapeEditMenuTemplate>
      <div id=shapeDropDownMenu class=shapeEditMenu style="background-color: var(--rsp_lightblue);">
        <div class=shapeEditMenuBanner>
          <button class=iconButton onClick="shapeMenuSubmit(this)" onmouseover='overIconButton(this)' onmouseout='outIconButton(this)' title="Accept"><img src="../common/img/check.png" width=20px height=20px></button>
          <button class=iconButton onClick="shapeMenuCancel(this)" onmouseover='overIconButton(this)' onmouseout='outIconButton(this)' title="Cancel"><img src="../common/img/close.png" width=20px height=20px></button>
          <br>
        </div>

        <div id=shapeTitleDiv style="background-color: var(--rsp_lightblue)">
          <center>
            <p style="font-size:1.2em; background-color: var(--rsp_blue); color: white; margin-top:0;">Title</p>
            <div style="background-color: var(--rsp_lightblue); margin-top:-20px">
              <input id=ShapeTitleId class=shapeEditMenuTitle type="text" id=title name="title">
            </div>
          </center>
        </div>
        <div id=shapeCheckBoxTreeRoot style="margin-top:-20px; padding-bottom:10px;">
          <center>
            <p style="font-size:1.2em; background-color: var(--rsp_blue); color: white;">Y-axis Parameters</p>
          </center>
          <div style="background-color: var(--rsp_lightblue); margin-top:-10px; ">
            <input type="checkbox" id=All onclick='shapeTreeCheckboxClicked(this)'>
            <label for=All>All</label>
            <div class=shapeIndentDiv>
              <br>
              <input type="checkbox" id=MandatoryB onclick='shapeTreeCheckboxClicked(this)'>
              <label for=MandatoryB>Mandatory Breaths</label>
              <div class=shapeIndentDiv>
                <input type="checkbox" id=MandatoryVC onclick='shapeTreeCheckboxClicked(this)'>
                <label for=MandatoryVC>Volume Controlled</label>
              </div>
            </div>
            <br>
            <div class=shapeIndentDiv>
              <input type="checkbox" id=SpontaneousB onclick='shapeTreeCheckboxClicked(this)'>
              <label for=SpontaneousB>Spontaneous Breaths</label>
              <div class=shapeIndentDiv>
                <input type="checkbox" id=SpontaneousVC onclick='shapeTreeCheckboxClicked(this)'>
                <label for=SpontaneousVC>Volume Controlled</label>
              </div>
              <div class=shapeIndentDiv>
                <input type="checkbox" id=SpontaneousPS onclick='shapeTreeCheckboxClicked(this)'>
                <label for=SpontaneousPS>Pressure Supported&nbsp</label>
              </div>
              <br>
            </div>
            <div class=shapeIndentDiv>
              <input type="checkbox" id=MaintenanceB onclick='shapeTreeCheckboxClicked(this)'>
              <label for=MaintenanceB>Include Maintenance Breaths&nbsp</label>
              <br>
            </div>
            <div class=shapeIndentDiv>
              <input type="checkbox" id=ErrorB onclick='shapeTreeCheckboxClicked(this)'>
              <label for=ErrorB>Include Error Breaths</label>
              <br>
            </div>
            <div class=shapeIndentDiv>
              <input type="checkbox" id=AbnormalB onclick='shapeTreeCheckboxClicked(this)'>
              <label for=AbnormalB>Include Abnormal Breaths</label>
            </div>
            <br>
          </div>
        </div>
      </div>
    </template>

  </body>

</html>

